\documentclass[11pt]{article}

    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Keep aspect ratio if custom image width or height is specified
    \setkeys{Gin}{keepaspectratio}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro

    \usepackage{iftex}
    \ifPDFTeX
        \usepackage[T1]{fontenc}
        \IfFileExists{alphabeta.sty}{
              \usepackage{alphabeta}
          }{
              \usepackage[mathletters]{ucs}
              \usepackage[utf8x]{inputenc}
          }
    \else
        \usepackage{fontspec}
        \usepackage{unicode-math}
    \fi

    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    \makeatletter % fix for old versions of grffile with XeLaTeX
    \@ifpackagelater{grffile}{2019/11/01}
    {
      % Do nothing on new versions
    }
    {
      \def\Gread@@xetex#1{%
        \IfFileExists{"\Gin@base".bb}%
        {\Gread@eps{\Gin@base.bb}}%
        {\Gread@@xetex@aux#1}%
      }
    }
    \makeatother
    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage{array}     % table support for pandoc >= 2.11.3
    \usepackage{calc}      % table minipage width calculation for pandoc >= 2.11.1
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{soul}      % strikethrough (\st) support for pandoc >= 3.0.0
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % common color for the border for error outputs.
    \definecolor{outerrorbackground}{HTML}{FFDFDF}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{notebook}
    
    
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\@namedef{PY@tok@w}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\@namedef{PY@tok@c}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cp}{\def\PY@tc##1{\textcolor[rgb]{0.61,0.40,0.00}{##1}}}
\@namedef{PY@tok@k}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kt}{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\@namedef{PY@tok@o}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ow}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@nb}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nf}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@ne}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.80,0.25,0.22}{##1}}}
\@namedef{PY@tok@nv}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@no}{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\@namedef{PY@tok@nl}{\def\PY@tc##1{\textcolor[rgb]{0.46,0.46,0.00}{##1}}}
\@namedef{PY@tok@ni}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@na}{\def\PY@tc##1{\textcolor[rgb]{0.41,0.47,0.13}{##1}}}
\@namedef{PY@tok@nt}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nd}{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@s}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sd}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@si}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@se}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.36,0.12}{##1}}}
\@namedef{PY@tok@sr}{\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@ss}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sx}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@m}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@gh}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@gu}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\@namedef{PY@tok@gd}{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\@namedef{PY@tok@gi}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.52,0.00}{##1}}}
\@namedef{PY@tok@gr}{\def\PY@tc##1{\textcolor[rgb]{0.89,0.00,0.00}{##1}}}
\@namedef{PY@tok@ge}{\let\PY@it=\textit}
\@namedef{PY@tok@gs}{\let\PY@bf=\textbf}
\@namedef{PY@tok@ges}{\let\PY@bf=\textbf\let\PY@it=\textit}
\@namedef{PY@tok@gp}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@go}{\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@gt}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\@namedef{PY@tok@err}{\def\PY@bc##1{{\setlength{\fboxsep}{\string -\fboxrule}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}}
\@namedef{PY@tok@kc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kd}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kr}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@bp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@fm}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@vc}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vg}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vi}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vm}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sa}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sb}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sc}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@dl}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s2}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sh}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s1}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@mb}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mf}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mh}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mi}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@il}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mo}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ch}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cm}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cpf}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@c1}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cs}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb.
    \makeatletter
        \newbox\Wrappedcontinuationbox
        \newbox\Wrappedvisiblespacebox
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}}
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}}
        \newcommand*\Wrappedcontinuationindent {3ex }
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox}
        % Take advantage of the already applied Pygments mark-up to insert
        % potential linebreaks for TeX processing.
        %        {, <, #, %, $, ' and ": go to next line.
        %        _, }, ^, &, >, - and ~: stay at end of broken line.
        % Use of \textquotesingle for straight quote.
        \newcommand*\Wrappedbreaksatspecials {%
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}%
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}%
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}%
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}%
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}%
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}%
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}%
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}%
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}%
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}%
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}%
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}%
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}%
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}%
        }
        % Some characters . , ; ? ! / are not pygmentized.
        % This macro makes them "active" and they will insert potential linebreaks
        \newcommand*\Wrappedbreaksatpunct {%
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}%
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}%
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}%
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}%
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}%
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}%
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}%
            \catcode`\.\active
            \catcode`\,\active
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active
            \lccode`\~`\~
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%

        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}

    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        {\ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}}
    }
    

    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

\begin{document}
    
    \maketitle
    
    

    
    \section{Hito 5- Transform Coding for Redundancy
Removal}\label{hito-5--transform-coding-for-redundancy-removal}

    En este hito se verán las curvas RD (muestran la distorsión creada a la
hora de cuantizar en relación a los kbits enviados en cierto tiempo). Se
ha usado la canción de: AviadorDro\_LaZonaFantasma durante 20s para
tener más muestras con las que trabajar.

    Este proceso se ha automatizado para así facilitar la creación de las
curvas RD.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{os}

\PY{k}{def} \PY{n+nf}{find\PYZus{}project\PYZus{}root}\PY{p}{(}\PY{n}{start\PYZus{}path}\PY{o}{=}\PY{k+kc}{None}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{TecMul\PYZus{}Intercom}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
\PY{l+s+sd}{    Dynamically find the project root by looking for a known directory or file.}
\PY{l+s+sd}{    }
\PY{l+s+sd}{    :param start\PYZus{}path: Starting path for the search (defaults to current working directory).}
\PY{l+s+sd}{    :param marker: A directory or file that indicates the project root (e.g., \PYZsq{}src\PYZsq{}, \PYZsq{}.git\PYZsq{}).}
\PY{l+s+sd}{    :return: The absolute path to the project root.}
\PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
    \PY{k}{if} \PY{n}{start\PYZus{}path} \PY{o+ow}{is} \PY{k+kc}{None}\PY{p}{:}
        \PY{n}{start\PYZus{}path} \PY{o}{=} \PY{n}{os}\PY{o}{.}\PY{n}{getcwd}\PY{p}{(}\PY{p}{)}
    
    \PY{n}{current\PYZus{}path} \PY{o}{=} \PY{n}{start\PYZus{}path}
    \PY{k}{while} \PY{k+kc}{True}\PY{p}{:}
        \PY{k}{if} \PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{isdir}\PY{p}{(}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{current\PYZus{}path}\PY{p}{,} \PY{n}{marker}\PY{p}{)}\PY{p}{)} \PY{o+ow}{or} \PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{exists}\PY{p}{(}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{current\PYZus{}path}\PY{p}{,} \PY{n}{marker}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{n}{current\PYZus{}path}
        \PY{n}{parent\PYZus{}path} \PY{o}{=} \PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{abspath}\PY{p}{(}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{current\PYZus{}path}\PY{p}{,} \PY{n}{os}\PY{o}{.}\PY{n}{pardir}\PY{p}{)}\PY{p}{)}
        \PY{k}{if} \PY{n}{current\PYZus{}path} \PY{o}{==} \PY{n}{parent\PYZus{}path}\PY{p}{:}  \PY{c+c1}{\PYZsh{} Reached the root of the filesystem}
            \PY{k}{raise} \PY{n+ne}{RuntimeError}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Could not find project root containing }\PY{l+s+s2}{\PYZsq{}}\PY{l+s+si}{\PYZob{}}\PY{n}{marker}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{current\PYZus{}path} \PY{o}{=} \PY{n}{parent\PYZus{}path}
        
\PY{n}{project\PYZus{}root} \PY{o}{=} \PY{n}{find\PYZus{}project\PYZus{}root}\PY{p}{(}\PY{n}{marker}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{src}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{os}\PY{o}{.}\PY{n}{chdir}\PY{p}{(}\PY{n}{project\PYZus{}root}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    Se hace uso de la librería subprocess para poder ejecutar en segundo
plano todos los scripts.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{math}
\PY{k+kn}{import} \PY{n+nn}{subprocess}
\PY{k+kn}{import} \PY{n+nn}{logging}
\PY{k+kn}{import} \PY{n+nn}{os}
\PY{k+kn}{import} \PY{n+nn}{sys}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}

\PY{k}{class} \PY{n+nc}{Processing}\PY{p}{:}
    \PY{k}{def} \PY{n+nf+fm}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}\PY{p}{:}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{quant} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{8}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{16}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{32}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{64}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{128}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{256}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{512}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1024}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2048}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{4096}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{8182}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{wavelets} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{levels} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{6}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}

    \PY{k}{def} \PY{n+nf}{call\PYZus{}temporal\PYZus{}script\PYZus{}no\PYZus{}overlapping\PYZus{}16}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{quant}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,} \PY{n}{level}\PY{p}{)}\PY{p}{:}
\PY{+w}{        }\PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
\PY{l+s+sd}{        Calls the \PYZsq{}temporal\PYZus{}no\PYZus{}overlapped\PYZus{}DWT\PYZus{}coding\PYZus{}16.py\PYZsq{} script using subprocess,}
\PY{l+s+sd}{        and saves the output to a specified file.}

\PY{l+s+sd}{        :param quant: Quantization value (string).}
\PY{l+s+sd}{        :param wavelet: Wavelet type (string).}
\PY{l+s+sd}{        :param level: Level value (string).}
\PY{l+s+sd}{        :param output\PYZus{}file: Path to the output text file.}
\PY{l+s+sd}{        \PYZdq{}\PYZdq{}\PYZdq{}}
        \PY{n}{starting\PYZus{}path}\PY{o}{=} \PY{n}{os}\PY{o}{.}\PY{n}{getcwd}\PY{p}{(}\PY{p}{)}
        \PY{n}{script\PYZus{}path}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{src}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{temporal\PYZus{}no\PYZus{}overlapped\PYZus{}DWT\PYZus{}coding\PYZus{}16.py}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{executorpy}\PY{o}{=}\PY{n}{sys}\PY{o}{.}\PY{n}{executable}
        \PY{n}{filesong}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{data}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{AviadorDro\PYZus{}LaZonaFantasma.oga}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{try}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Command to execute the script with parameters}
            \PY{n}{cmd} \PY{o}{=} \PY{p}{[}
                \PY{n}{executorpy}\PY{p}{,} 
                \PY{n}{script\PYZus{}path}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}q}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{quant}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}w}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}e}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{level}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}\PYZhy{}show\PYZus{}stats}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}f}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{filesong}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}t}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{20}\PY{l+s+s2}{\PYZdq{}}
            \PY{p}{]}

            \PY{c+c1}{\PYZsh{} Run the command}
            \PY{n}{result} \PY{o}{=}\PY{n}{subprocess}\PY{o}{.}\PY{n}{run}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{capture\PYZus{}output}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{text}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{if} \PY{n}{result}\PY{o}{.}\PY{n}{returncode} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{stdout}
            \PY{k}{else}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Log and process errors if the script failed}
                \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Script failed with error:}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+si}{\PYZob{}}\PY{n}{result}\PY{o}{.}\PY{n}{stderr}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{k}{return} \PY{k+kc}{None}
        \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
            \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{An error occurred: }\PY{l+s+si}{\PYZob{}}\PY{n}{e}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

    \PY{k}{def} \PY{n+nf}{call\PYZus{}script\PYZus{}MST\PYZus{}16}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{quant}\PY{p}{)}\PY{p}{:}
\PY{+w}{        }\PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
\PY{l+s+sd}{        Calls the \PYZsq{}stereo\PYZus{}MST\PYZus{}coding\PYZus{}16.py\PYZsq{} script using subprocess,}
\PY{l+s+sd}{        and saves the output to a specified file.}

\PY{l+s+sd}{        :param quant: Quantization value (string).}
\PY{l+s+sd}{        :param wavelet: Wavelet type (string).}
\PY{l+s+sd}{        :param level: Level value (string).}
\PY{l+s+sd}{        :param output\PYZus{}file: Path to the output text file.}
\PY{l+s+sd}{        \PYZdq{}\PYZdq{}\PYZdq{}}
        \PY{n}{starting\PYZus{}path}\PY{o}{=} \PY{n}{os}\PY{o}{.}\PY{n}{getcwd}\PY{p}{(}\PY{p}{)}
        \PY{n}{script\PYZus{}path}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{src}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{stereo\PYZus{}MST\PYZus{}coding\PYZus{}16.py}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{executorpy}\PY{o}{=}\PY{n}{sys}\PY{o}{.}\PY{n}{executable}
        \PY{n}{filesong}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{data}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{AviadorDro\PYZus{}LaZonaFantasma.oga}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{try}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Command to execute the script with parameters}
            \PY{n}{cmd} \PY{o}{=} \PY{p}{[}
                \PY{n}{executorpy}\PY{p}{,} 
                \PY{n}{script\PYZus{}path}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}q}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{quant}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}\PYZhy{}show\PYZus{}stats}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}f}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{filesong}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}t}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{20}\PY{l+s+s2}{\PYZdq{}}
            \PY{p}{]}

            \PY{c+c1}{\PYZsh{} Run the command}
            \PY{n}{result} \PY{o}{=}\PY{n}{subprocess}\PY{o}{.}\PY{n}{run}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{capture\PYZus{}output}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{text}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{if} \PY{n}{result}\PY{o}{.}\PY{n}{returncode} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{stdout}
            \PY{k}{else}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Log and process errors if the script failed}
                \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Script failed with error:}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+si}{\PYZob{}}\PY{n}{result}\PY{o}{.}\PY{n}{stderr}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{k}{return} \PY{k+kc}{None}
        \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
            \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{An error occurred: }\PY{l+s+si}{\PYZob{}}\PY{n}{e}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    
    \PY{k}{def} \PY{n+nf}{call\PYZus{}script\PYZus{}MST\PYZus{}32}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{quant}\PY{p}{)}\PY{p}{:}
\PY{+w}{        }\PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
\PY{l+s+sd}{        Calls the \PYZsq{}stereo\PYZus{}MST\PYZus{}coding\PYZus{}32.py\PYZsq{} script using subprocess,}
\PY{l+s+sd}{        and saves the output to a specified file.}

\PY{l+s+sd}{        :param quant: Quantization value (string).}
\PY{l+s+sd}{        :param wavelet: Wavelet type (string).}
\PY{l+s+sd}{        :param level: Level value (string).}
\PY{l+s+sd}{        :param output\PYZus{}file: Path to the output text file.}
\PY{l+s+sd}{        \PYZdq{}\PYZdq{}\PYZdq{}}
        \PY{n}{starting\PYZus{}path}\PY{o}{=} \PY{n}{os}\PY{o}{.}\PY{n}{getcwd}\PY{p}{(}\PY{p}{)}
        \PY{n}{script\PYZus{}path}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{src}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{stereo\PYZus{}MST\PYZus{}coding\PYZus{}32.py}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{executorpy}\PY{o}{=}\PY{n}{sys}\PY{o}{.}\PY{n}{executable}
        \PY{n}{filesong}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{data}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{AviadorDro\PYZus{}LaZonaFantasma.oga}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{try}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Command to execute the script with parameters}
            \PY{n}{cmd} \PY{o}{=} \PY{p}{[}
                \PY{n}{executorpy}\PY{p}{,} 
                \PY{n}{script\PYZus{}path}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}q}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{quant}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}\PYZhy{}show\PYZus{}stats}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}f}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{filesong}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}t}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{20}\PY{l+s+s2}{\PYZdq{}}
            \PY{p}{]}

            \PY{c+c1}{\PYZsh{} Run the command}
            \PY{n}{result} \PY{o}{=}\PY{n}{subprocess}\PY{o}{.}\PY{n}{run}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{capture\PYZus{}output}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{text}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{if} \PY{n}{result}\PY{o}{.}\PY{n}{returncode} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{stdout}
            \PY{k}{else}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Log and process errors if the script failed}
                \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Script failed with error:}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+si}{\PYZob{}}\PY{n}{result}\PY{o}{.}\PY{n}{stderr}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{k}{return} \PY{k+kc}{None}
        \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
            \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{An error occurred: }\PY{l+s+si}{\PYZob{}}\PY{n}{e}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    
    \PY{k}{def} \PY{n+nf}{call\PYZus{}temporal\PYZus{}script\PYZus{}no\PYZus{}overlapping\PYZus{}32}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{quant}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,} \PY{n}{level}\PY{p}{)}\PY{p}{:}
\PY{+w}{        }\PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
\PY{l+s+sd}{        Calls the \PYZsq{}temporal\PYZus{}no\PYZus{}overlapped\PYZus{}DWT\PYZus{}coding\PYZus{}32.py\PYZsq{} script using subprocess,}
\PY{l+s+sd}{        and saves the output to a specified file.}

\PY{l+s+sd}{        :param quant: Quantization value (string).}
\PY{l+s+sd}{        :param wavelet: Wavelet type (string).}
\PY{l+s+sd}{        :param level: Level value (string).}
\PY{l+s+sd}{        :param output\PYZus{}file: Path to the output text file.}
\PY{l+s+sd}{        \PYZdq{}\PYZdq{}\PYZdq{}}
        \PY{n}{starting\PYZus{}path}\PY{o}{=} \PY{n}{os}\PY{o}{.}\PY{n}{getcwd}\PY{p}{(}\PY{p}{)}
        \PY{n}{script\PYZus{}path}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{src}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{temporal\PYZus{}no\PYZus{}overlapped\PYZus{}DWT\PYZus{}coding\PYZus{}32.py}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{executorpy}\PY{o}{=}\PY{n}{sys}\PY{o}{.}\PY{n}{executable}
        \PY{n}{filesong}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{data}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{AviadorDro\PYZus{}LaZonaFantasma.oga}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{try}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Command to execute the script with parameters}
            \PY{n}{cmd} \PY{o}{=} \PY{p}{[}
                \PY{n}{executorpy}\PY{p}{,} 
                \PY{n}{script\PYZus{}path}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}q}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{quant}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}w}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}e}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{level}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}\PYZhy{}show\PYZus{}stats}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}f}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{filesong}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}t}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{20}\PY{l+s+s2}{\PYZdq{}}
            \PY{p}{]}

            \PY{c+c1}{\PYZsh{} Run the command}
            \PY{n}{result} \PY{o}{=}\PY{n}{subprocess}\PY{o}{.}\PY{n}{run}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{capture\PYZus{}output}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{text}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{if} \PY{n}{result}\PY{o}{.}\PY{n}{returncode} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{stdout}
            \PY{k}{else}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Log and process errors if the script failed}
                \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Script failed with error:}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+si}{\PYZob{}}\PY{n}{result}\PY{o}{.}\PY{n}{stderr}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{k}{return} \PY{k+kc}{None}

        \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
            \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{An error occurred: }\PY{l+s+si}{\PYZob{}}\PY{n}{e}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

    \PY{k}{def} \PY{n+nf}{call\PYZus{}temporal\PYZus{}script\PYZus{}overlapping}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{quant}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,} \PY{n}{level}\PY{p}{)}\PY{p}{:}
\PY{+w}{        }\PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
\PY{l+s+sd}{        Calls the \PYZsq{}temporal\PYZus{}overlapped\PYZus{}DWT\PYZus{}coding.py\PYZsq{} script using subprocess,}
\PY{l+s+sd}{        and saves the output to a specified file.}

\PY{l+s+sd}{        :param quant: Quantization value (string).}
\PY{l+s+sd}{        :param wavelet: Wavelet type (string).}
\PY{l+s+sd}{        :param level: Level value (string).}
\PY{l+s+sd}{        :param output\PYZus{}file: Path to the output text file.}
\PY{l+s+sd}{        \PYZdq{}\PYZdq{}\PYZdq{}}
        \PY{n}{starting\PYZus{}path}\PY{o}{=} \PY{n}{os}\PY{o}{.}\PY{n}{getcwd}\PY{p}{(}\PY{p}{)}
        \PY{n}{script\PYZus{}path}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{src}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{temporal\PYZus{}overlapped\PYZus{}DWT\PYZus{}coding.py}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{executorpy}\PY{o}{=}\PY{n}{executorpy}\PY{o}{=}\PY{n}{sys}\PY{o}{.}\PY{n}{executable}
        \PY{n}{filesong}\PY{o}{=}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{starting\PYZus{}path}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{data}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{AviadorDro\PYZus{}LaZonaFantasma.oga}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{try}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Command to execute the script with parameters}
            \PY{n}{cmd} \PY{o}{=} \PY{p}{[}
                \PY{n}{executorpy}\PY{p}{,} 
                \PY{n}{script\PYZus{}path}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}q}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{quant}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}w}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}e}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{level}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}\PYZhy{}show\PYZus{}stats}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}f}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{filesong}\PY{p}{,}
                \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}t}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{20}\PY{l+s+s2}{\PYZdq{}}
            \PY{p}{]}

            \PY{c+c1}{\PYZsh{} Run the command}
            \PY{n}{result} \PY{o}{=}\PY{n}{subprocess}\PY{o}{.}\PY{n}{run}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{capture\PYZus{}output}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{text}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{if} \PY{n}{result}\PY{o}{.}\PY{n}{returncode} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Process the captured standard output}
                \PY{n}{logging}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Script output:}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+si}{\PYZob{}}\PY{n}{result}\PY{o}{.}\PY{n}{stdout}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{stdout}
            \PY{k}{else}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} Log and process errors if the script failed}
                \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Script failed with error:}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+si}{\PYZob{}}\PY{n}{result}\PY{o}{.}\PY{n}{stderr}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{k}{return} \PY{k+kc}{None}
        \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
            \PY{n}{logging}\PY{o}{.}\PY{n}{error}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{An error occurred: }\PY{l+s+si}{\PYZob{}}\PY{n}{e}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Logging setup}
\PY{n}{logging}\PY{o}{.}\PY{n}{basicConfig}\PY{p}{(}\PY{n}{level}\PY{o}{=}\PY{n}{logging}\PY{o}{.}\PY{n}{INFO}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \subsection{Determine the RD curves for the
MST:}\label{determine-the-rd-curves-for-the-mst}

    En esta primera sección del hito se verán las curvas RD para los
métodos: - stereo\_MST\_coding\_16 - stereo\_MST\_coding\_32

    \subsubsection{Coding- MST 16}\label{coding--mst-16}

    Se itera por el array de cuantizaciones, y se consigue en el output que
da el subprocess el ``payload sent average'' y el RMSE (al que se hace
la media).

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Initialize the processor}
\PY{n}{processor} \PY{o}{=} \PY{n}{Processing}\PY{p}{(}\PY{p}{)}

\PY{n}{points} \PY{o}{=} \PY{p}{[}\PY{p}{]}  \PY{c+c1}{\PYZsh{} Initialize points}

\PY{k}{for} \PY{n}{quant} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{quant}\PY{p}{:}

    \PY{n}{output} \PY{o}{=} \PY{n}{processor}\PY{o}{.}\PY{n}{call\PYZus{}script\PYZus{}MST\PYZus{}16}\PY{p}{(}\PY{n}{quant}\PY{p}{)}

    \PY{k}{if} \PY{n}{output}\PY{p}{:}
        \PY{n}{lines} \PY{o}{=} \PY{n}{output}\PY{o}{.}\PY{n}{splitlines}\PY{p}{(}\PY{p}{)}
        \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{k+kc}{None}
        \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{k+kc}{None}

        \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{lines}\PY{p}{:}
            \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Payload sent average }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{n+nb}{float}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
            \PY{k}{elif} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average RMSE (Root Mean Square Error) per sample }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                \PY{n}{numbers\PYZus{}str} \PY{o}{=} \PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{[]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{n}{numbers} \PY{o}{=} \PY{p}{[}\PY{n+nb}{float}\PY{p}{(}\PY{n}{num}\PY{p}{)} \PY{k}{for} \PY{n}{num} \PY{o+ow}{in} \PY{n}{numbers\PYZus{}str}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{]}
                \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{o}{/} \PY{n+nb}{len}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{k}{if} \PY{n}{numbers} \PY{k}{else} \PY{k+kc}{None}

        \PY{k}{if} \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None} \PY{o+ow}{and} \PY{n}{average\PYZus{}rmse} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None}\PY{p}{:}
            \PY{n}{points}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{(}\PY{n}{payload\PYZus{}sent\PYZus{}average}\PY{p}{,} \PY{n}{average\PYZus{}rmse}\PY{p}{)}\PY{p}{)}
        \PY{k}{else}\PY{p}{:}
            \PY{n}{logging}\PY{o}{.}\PY{n}{warning}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing data for quant=}\PY{l+s+si}{\PYZob{}}\PY{n}{quant}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{. Skipping this point.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{k}{if} \PY{n}{points}\PY{p}{:}
    \PY{n}{points} \PY{o}{=} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{points}\PY{p}{)}

\PY{n}{logging}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data collection completed.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
INFO:root:Data collection completed.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Save points\PYZus{}per\PYZus{}wavelet for later use}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}mst\PYZus{}16.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{wb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{pickle}\PY{o}{.}\PY{n}{dump}\PY{p}{(}\PY{n}{points}\PY{p}{,} \PY{n}{f}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data saved to }\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{points\PYZus{}mst\PYZus{}16.pkl}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Data saved to 'points\_mst\_16.pkl'.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Load points}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}mst\PYZus{}16.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{points}  \PY{o}{=} \PY{n}{pickle}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{n}{f}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RD Tradeoff}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R (Estimated Bits per Sample) [Entropy]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{D (Root Mean Square Error)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{grid}\PY{p}{(}\PY{k+kc}{True}\PY{p}{)}

\PY{k}{if} \PY{n}{points}\PY{p}{:}
    \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{o}{*}\PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{points}\PY{p}{)}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{linestyle}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_12_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    La figura de arriba es la curva RD, y por lo que se ve, con -q 8192 se
consigue menos de 50kbits enviados y un RMSE\textgreater1'2.

    \subsubsection{Coding- MST 32}\label{coding--mst-32}

    Se realiza lo mismo que con MST 16.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Initialize the processor}
\PY{n}{processor} \PY{o}{=} \PY{n}{Processing}\PY{p}{(}\PY{p}{)}

\PY{n}{points} \PY{o}{=} \PY{p}{[}\PY{p}{]}  \PY{c+c1}{\PYZsh{} Initialize points}

\PY{k}{for} \PY{n}{quant} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{quant}\PY{p}{:}

    \PY{n}{output} \PY{o}{=} \PY{n}{processor}\PY{o}{.}\PY{n}{call\PYZus{}script\PYZus{}MST\PYZus{}32}\PY{p}{(}\PY{n}{quant}\PY{p}{)}

    \PY{k}{if} \PY{n}{output}\PY{p}{:}
        \PY{n}{lines} \PY{o}{=} \PY{n}{output}\PY{o}{.}\PY{n}{splitlines}\PY{p}{(}\PY{p}{)}
        \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{k+kc}{None}
        \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{k+kc}{None}

        \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{lines}\PY{p}{:}
            \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Payload sent average }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{n+nb}{float}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
            \PY{k}{elif} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average RMSE (Root Mean Square Error) per sample }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                \PY{n}{numbers\PYZus{}str} \PY{o}{=} \PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{[]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{n}{numbers} \PY{o}{=} \PY{p}{[}\PY{n+nb}{float}\PY{p}{(}\PY{n}{num}\PY{p}{)} \PY{k}{for} \PY{n}{num} \PY{o+ow}{in} \PY{n}{numbers\PYZus{}str}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{]}
                \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{o}{/} \PY{n+nb}{len}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{k}{if} \PY{n}{numbers} \PY{k}{else} \PY{k+kc}{None}

        \PY{k}{if} \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None} \PY{o+ow}{and} \PY{n}{average\PYZus{}rmse} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None}\PY{p}{:}
            \PY{n}{points}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{(}\PY{n}{payload\PYZus{}sent\PYZus{}average}\PY{p}{,} \PY{n}{average\PYZus{}rmse}\PY{p}{)}\PY{p}{)}
        \PY{k}{else}\PY{p}{:}
            \PY{n}{logging}\PY{o}{.}\PY{n}{warning}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing data for quant=}\PY{l+s+si}{\PYZob{}}\PY{n}{quant}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{. Skipping this point.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{k}{if} \PY{n}{points}\PY{p}{:}
    \PY{n}{points} \PY{o}{=} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{points}\PY{p}{)}

\PY{n}{logging}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data collection completed.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
INFO:root:Data collection completed.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Save points\PYZus{}per\PYZus{}wavelet for later use}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}mst\PYZus{}32.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{wb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{pickle}\PY{o}{.}\PY{n}{dump}\PY{p}{(}\PY{n}{points}\PY{p}{,} \PY{n}{f}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data saved to }\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{points\PYZus{}mst\PYZus{}32.pkl}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Data saved to 'points\_mst\_32.pkl'.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Load points}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}mst\PYZus{}32.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{points}  \PY{o}{=} \PY{n}{pickle}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{n}{f}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RD Tradeoff}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R (Estimated Bits per Sample) [Entropy]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{D (Root Mean Square Error)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{grid}\PY{p}{(}\PY{k+kc}{True}\PY{p}{)}

\PY{k}{if} \PY{n}{points}\PY{p}{:}
    \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{o}{*}\PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{points}\PY{p}{)}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{linestyle}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_18_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Curva RD. Con -q 8192 se tiene un valor más cercano a 50kbits (comparado
con MST 16) y mayor distorsión (RMSE=1'75).

    \subsubsection{Conclusión}\label{conclusiuxf3n}

    Comparando las curvas RD entre MST 16 y MST 32, se puede ver que MST 16
es mejor a la hora de comprimir y no genera tanta distorsión. Esto se
debe a que cuando se hace el análisis, en MST 16 se la división de mid y
size (a la mitad), mientras que en MST 32 no se hace esa división en el
análisis.

    \subsection{Determine the RD curves for the
DWT}\label{determine-the-rd-curves-for-the-dwt}

    \subsubsection{Coding- NO overlapped (using MST
16)}\label{coding--no-overlapped-using-mst-16}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{10}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Initialize the processor}
\PY{n}{processor} \PY{o}{=} \PY{n}{Processing}\PY{p}{(}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Define maximum levels for each wavelet type}

\PY{n}{max\PYZus{}levels\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{p}{\PYZob{}}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}
\PY{p}{\PYZcb{}}


\PY{c+c1}{\PYZsh{} Data storage}
\PY{n}{points\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}  \PY{c+c1}{\PYZsh{} To store points for each wavelet and level}

\PY{c+c1}{\PYZsh{} Iterate through combinations with constraint on levels}
\PY{k}{for} \PY{n}{wavelet} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{wavelets}\PY{p}{:}
    \PY{n}{max\PYZus{}level} \PY{o}{=} \PY{n}{max\PYZus{}levels\PYZus{}per\PYZus{}wavelet}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{wavelet}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}  \PY{c+c1}{\PYZsh{} Default to 2 if undefined}
    \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{[}\PY{n}{wavelet}\PY{p}{]} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}

    \PY{k}{for} \PY{n}{level} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{levels}\PY{p}{:}
        \PY{k}{if} \PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{n}{max\PYZus{}level}\PY{p}{:}
            \PY{k}{continue}

        \PY{k}{if} \PY{n}{wavelet} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o+ow}{and} \PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZlt{}} \PY{l+m+mi}{4} \PY{o+ow}{or} \PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{:}
            \PY{k}{continue}

        \PY{n}{points} \PY{o}{=} \PY{p}{[}\PY{p}{]}  \PY{c+c1}{\PYZsh{} Initialize points for this level}

        \PY{k}{for} \PY{n}{quant} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{quant}\PY{p}{:}

            \PY{n}{output} \PY{o}{=} \PY{n}{processor}\PY{o}{.}\PY{n}{call\PYZus{}temporal\PYZus{}script\PYZus{}no\PYZus{}overlapping\PYZus{}16}\PY{p}{(}\PY{n}{quant}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,} \PY{n}{level}\PY{p}{)}

            \PY{k}{if} \PY{n}{output}\PY{p}{:}
                \PY{n}{lines} \PY{o}{=} \PY{n}{output}\PY{o}{.}\PY{n}{splitlines}\PY{p}{(}\PY{p}{)}
                \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{k+kc}{None}
                \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{k+kc}{None}

                \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{lines}\PY{p}{:}
                    \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Payload sent average }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                        \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{n+nb}{float}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
                    \PY{k}{elif} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average RMSE (Root Mean Square Error) per sample }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                        \PY{n}{numbers\PYZus{}str} \PY{o}{=} \PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{[]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                        \PY{n}{numbers} \PY{o}{=} \PY{p}{[}\PY{n+nb}{float}\PY{p}{(}\PY{n}{num}\PY{p}{)} \PY{k}{for} \PY{n}{num} \PY{o+ow}{in} \PY{n}{numbers\PYZus{}str}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{]}
                        \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{o}{/} \PY{n+nb}{len}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{k}{if} \PY{n}{numbers} \PY{k}{else} \PY{k+kc}{None}

                \PY{k}{if} \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None} \PY{o+ow}{and} \PY{n}{average\PYZus{}rmse} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None}\PY{p}{:}
                    \PY{n}{points}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{(}\PY{n}{payload\PYZus{}sent\PYZus{}average}\PY{p}{,} \PY{n}{average\PYZus{}rmse}\PY{p}{)}\PY{p}{)}
                \PY{k}{else}\PY{p}{:}
                    \PY{n}{logging}\PY{o}{.}\PY{n}{warning}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing data for quant=}\PY{l+s+si}{\PYZob{}}\PY{n}{quant}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{. Skipping this point.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

        \PY{k}{if} \PY{n}{points}\PY{p}{:}
            \PY{n}{points} \PY{o}{=} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{points}\PY{p}{)}
            \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{[}\PY{n}{wavelet}\PY{p}{]}\PY{p}{[}\PY{n}{level}\PY{p}{]} \PY{o}{=} \PY{n}{points}

\PY{n}{logging}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data collection completed.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
INFO:root:Data collection completed.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Save points\PYZus{}per\PYZus{}wavelet for later use}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}nol16.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{wb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{pickle}\PY{o}{.}\PY{n}{dump}\PY{p}{(}\PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{,} \PY{n}{f}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data saved to }\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}nol16.pkl}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Data saved to 'points\_per\_wavelet\_nol16.pkl'.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Load points\PYZus{}per\PYZus{}wavelet}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}nol16.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{points\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{n}{pickle}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{n}{f}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Generate plots}
\PY{k}{for} \PY{n}{wavelet}\PY{p}{,} \PY{n}{levels\PYZus{}data} \PY{o+ow}{in} \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
    \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RD Tradeoff for Wavelet: }\PY{l+s+si}{\PYZob{}}\PY{n}{wavelet}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R (Estimated Bits per Sample) [Entropy]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{D (Root Mean Square Error)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{grid}\PY{p}{(}\PY{k+kc}{True}\PY{p}{)}

    \PY{k}{for} \PY{n}{level}\PY{p}{,} \PY{n}{points} \PY{o+ow}{in} \PY{n}{levels\PYZus{}data}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{points}\PY{p}{:}
            \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{o}{*}\PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{points}\PY{p}{)}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{linestyle}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Level }\PY{l+s+si}{\PYZob{}}\PY{n}{level}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

    \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Levels}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_26_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{Coding- NO overlapped (using MST
32)}\label{coding--no-overlapped-using-mst-32}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Initialize the processor}
\PY{n}{processor} \PY{o}{=} \PY{n}{Processing}\PY{p}{(}\PY{p}{)}

\PY{n}{max\PYZus{}levels\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{p}{\PYZob{}}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}
\PY{p}{\PYZcb{}}

\PY{c+c1}{\PYZsh{} Data storage}
\PY{n}{points\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}  \PY{c+c1}{\PYZsh{} To store points for each wavelet and level}

\PY{c+c1}{\PYZsh{} Iterate through combinations with constraint on levels}
\PY{k}{for} \PY{n}{wavelet} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{wavelets}\PY{p}{:}
    \PY{n}{max\PYZus{}level} \PY{o}{=} \PY{n}{max\PYZus{}levels\PYZus{}per\PYZus{}wavelet}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{wavelet}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}  \PY{c+c1}{\PYZsh{} Default to 2 if undefined}
    \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{[}\PY{n}{wavelet}\PY{p}{]} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}

    \PY{k}{for} \PY{n}{level} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{levels}\PY{p}{:}
        \PY{k}{if} \PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{n}{max\PYZus{}level}\PY{p}{:}
            \PY{k}{continue}

        \PY{k}{if} \PY{n}{wavelet} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o+ow}{and} \PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZlt{}} \PY{l+m+mi}{4} \PY{o+ow}{or} \PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{:}
            \PY{k}{continue}

        \PY{n}{points} \PY{o}{=} \PY{p}{[}\PY{p}{]}  \PY{c+c1}{\PYZsh{} Initialize points for this level}

        \PY{k}{for} \PY{n}{quant} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{quant}\PY{p}{:}

            \PY{n}{output} \PY{o}{=} \PY{n}{processor}\PY{o}{.}\PY{n}{call\PYZus{}temporal\PYZus{}script\PYZus{}no\PYZus{}overlapping\PYZus{}32}\PY{p}{(}\PY{n}{quant}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,} \PY{n}{level}\PY{p}{)}
            
            \PY{k}{if} \PY{n}{output}\PY{p}{:}
                \PY{n}{lines} \PY{o}{=} \PY{n}{output}\PY{o}{.}\PY{n}{splitlines}\PY{p}{(}\PY{p}{)}
                \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{k+kc}{None}
                \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{k+kc}{None}

                \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{lines}\PY{p}{:}
                    \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Payload sent average }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                        \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{n+nb}{float}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
                    \PY{k}{elif} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average RMSE (Root Mean Square Error) per sample }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                        \PY{n}{numbers\PYZus{}str} \PY{o}{=} \PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{[]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                        \PY{n}{numbers} \PY{o}{=} \PY{p}{[}\PY{n+nb}{float}\PY{p}{(}\PY{n}{num}\PY{p}{)} \PY{k}{for} \PY{n}{num} \PY{o+ow}{in} \PY{n}{numbers\PYZus{}str}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{]}
                        \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{o}{/} \PY{n+nb}{len}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{k}{if} \PY{n}{numbers} \PY{k}{else} \PY{k+kc}{None}

                \PY{k}{if} \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None} \PY{o+ow}{and} \PY{n}{average\PYZus{}rmse} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None}\PY{p}{:}
                    \PY{n}{points}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{(}\PY{n}{payload\PYZus{}sent\PYZus{}average}\PY{p}{,} \PY{n}{average\PYZus{}rmse}\PY{p}{)}\PY{p}{)}
                \PY{k}{else}\PY{p}{:}
                    \PY{n}{logging}\PY{o}{.}\PY{n}{warning}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing data for quant=}\PY{l+s+si}{\PYZob{}}\PY{n}{quant}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{. Skipping this point.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

        \PY{k}{if} \PY{n}{points}\PY{p}{:}
            \PY{n}{points} \PY{o}{=} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{points}\PY{p}{)}
            \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{[}\PY{n}{wavelet}\PY{p}{]}\PY{p}{[}\PY{n}{level}\PY{p}{]} \PY{o}{=} \PY{n}{points}

\PY{n}{logging}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data collection completed.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
INFO:root:Data collection completed.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{14}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Save points\PYZus{}per\PYZus{}wavelet for later use}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}nol32.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{wb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{pickle}\PY{o}{.}\PY{n}{dump}\PY{p}{(}\PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{,} \PY{n}{f}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data saved to }\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}nol32.pkl}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Data saved to 'points\_per\_wavelet\_nol32.pkl'.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Load points\PYZus{}per\PYZus{}wavelet}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}nol32.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{points\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{n}{pickle}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{n}{f}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Generate plots}
\PY{k}{for} \PY{n}{wavelet}\PY{p}{,} \PY{n}{levels\PYZus{}data} \PY{o+ow}{in} \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
    \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RD Tradeoff for Wavelet: }\PY{l+s+si}{\PYZob{}}\PY{n}{wavelet}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R (Estimated Bits per Sample) [Entropy]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{D (Root Mean Square Error)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{grid}\PY{p}{(}\PY{k+kc}{True}\PY{p}{)}

    \PY{k}{for} \PY{n}{level}\PY{p}{,} \PY{n}{points} \PY{o+ow}{in} \PY{n}{levels\PYZus{}data}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{points}\PY{p}{:}
            \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{o}{*}\PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{points}\PY{p}{)}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{linestyle}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Level }\PY{l+s+si}{\PYZob{}}\PY{n}{level}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

    \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Levels}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_30_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{Coding- overlapped}\label{coding--overlapped}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Initialize the processor}
\PY{n}{processor} \PY{o}{=} \PY{n}{Processing}\PY{p}{(}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Define maximum levels for each wavelet type}

\PY{n}{max\PYZus{}levels\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{p}{\PYZob{}}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{9}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{8}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{7}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{7}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{db5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{6}\PY{p}{,}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+m+mi}{5}
\PY{p}{\PYZcb{}}


\PY{c+c1}{\PYZsh{} Data storage}
\PY{n}{points\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}  \PY{c+c1}{\PYZsh{} To store points for each wavelet and level}

\PY{c+c1}{\PYZsh{} Iterate through combinations with constraint on levels}
\PY{k}{for} \PY{n}{wavelet} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{wavelets}\PY{p}{:}
    \PY{n}{max\PYZus{}level} \PY{o}{=} \PY{n}{max\PYZus{}levels\PYZus{}per\PYZus{}wavelet}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{wavelet}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}  \PY{c+c1}{\PYZsh{} Default to 2 if undefined}
    \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{[}\PY{n}{wavelet}\PY{p}{]} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}

    \PY{k}{for} \PY{n}{level} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{levels}\PY{p}{:}
        \PY{k}{if} \PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{n}{max\PYZus{}level}\PY{p}{:}
            \PY{k}{continue}

        \PY{k}{if} \PY{n}{wavelet} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym4}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sym5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bior3.5}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o+ow}{and} \PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZlt{}} \PY{l+m+mi}{4} \PY{o+ow}{or} \PY{n+nb}{int}\PY{p}{(}\PY{n}{level}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{:}
            \PY{k}{continue}

        \PY{n}{points} \PY{o}{=} \PY{p}{[}\PY{p}{]}  \PY{c+c1}{\PYZsh{} Initialize points for this level}

        \PY{k}{for} \PY{n}{quant} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{quant}\PY{p}{:}

            \PY{n}{output} \PY{o}{=} \PY{n}{processor}\PY{o}{.}\PY{n}{call\PYZus{}temporal\PYZus{}script\PYZus{}overlapping}\PY{p}{(}\PY{n}{quant}\PY{p}{,} \PY{n}{wavelet}\PY{p}{,} \PY{n}{level}\PY{p}{)}

            \PY{k}{if} \PY{n}{output}\PY{p}{:}
                \PY{n}{lines} \PY{o}{=} \PY{n}{output}\PY{o}{.}\PY{n}{splitlines}\PY{p}{(}\PY{p}{)}
                \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{k+kc}{None}
                \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{k+kc}{None}

                \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{lines}\PY{p}{:}
                    \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Payload sent average }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                        \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o}{=} \PY{n+nb}{float}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
                    \PY{k}{elif} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average RMSE (Root Mean Square Error) per sample }\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{line}\PY{p}{:}
                        \PY{n}{numbers\PYZus{}str} \PY{o}{=} \PY{n}{line}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{[]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                        \PY{n}{numbers} \PY{o}{=} \PY{p}{[}\PY{n+nb}{float}\PY{p}{(}\PY{n}{num}\PY{p}{)} \PY{k}{for} \PY{n}{num} \PY{o+ow}{in} \PY{n}{numbers\PYZus{}str}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{]}
                        \PY{n}{average\PYZus{}rmse} \PY{o}{=} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{o}{/} \PY{n+nb}{len}\PY{p}{(}\PY{n}{numbers}\PY{p}{)} \PY{k}{if} \PY{n}{numbers} \PY{k}{else} \PY{k+kc}{None}

                \PY{k}{if} \PY{n}{payload\PYZus{}sent\PYZus{}average} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None} \PY{o+ow}{and} \PY{n}{average\PYZus{}rmse} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None}\PY{p}{:}
                    \PY{n}{points}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{(}\PY{n}{payload\PYZus{}sent\PYZus{}average}\PY{p}{,} \PY{n}{average\PYZus{}rmse}\PY{p}{)}\PY{p}{)}
                \PY{k}{else}\PY{p}{:}
                    \PY{n}{logging}\PY{o}{.}\PY{n}{warning}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing data for quant=}\PY{l+s+si}{\PYZob{}}\PY{n}{quant}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{. Skipping this point.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

        \PY{k}{if} \PY{n}{points}\PY{p}{:}
            \PY{n}{points} \PY{o}{=} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{points}\PY{p}{)}
            \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{[}\PY{n}{wavelet}\PY{p}{]}\PY{p}{[}\PY{n}{level}\PY{p}{]} \PY{o}{=} \PY{n}{points}

\PY{n}{logging}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data collection completed.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]

INFO:root:Data collection completed.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Save points\PYZus{}per\PYZus{}wavelet for later use}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}ol.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{wb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{pickle}\PY{o}{.}\PY{n}{dump}\PY{p}{(}\PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{p}{,} \PY{n}{f}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Data saved to }\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}ol.pkl}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Data saved to 'points\_per\_wavelet\_ol.pkl'.
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Load points\PYZus{}per\PYZus{}wavelet}
\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{points\PYZus{}per\PYZus{}wavelet\PYZus{}ol.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{points\PYZus{}per\PYZus{}wavelet} \PY{o}{=} \PY{n}{pickle}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{n}{f}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Generate plots}
\PY{k}{for} \PY{n}{wavelet}\PY{p}{,} \PY{n}{levels\PYZus{}data} \PY{o+ow}{in} \PY{n}{points\PYZus{}per\PYZus{}wavelet}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
    \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RD Tradeoff for Wavelet: }\PY{l+s+si}{\PYZob{}}\PY{n}{wavelet}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R (Estimated Bits per Sample) [Entropy]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{D (Root Mean Square Error)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{grid}\PY{p}{(}\PY{k+kc}{True}\PY{p}{)}

    \PY{k}{for} \PY{n}{level}\PY{p}{,} \PY{n}{points} \PY{o+ow}{in} \PY{n}{levels\PYZus{}data}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{points}\PY{p}{:}
            \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{o}{*}\PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{points}\PY{p}{)}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{linestyle}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Level }\PY{l+s+si}{\PYZob{}}\PY{n}{level}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

    \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Levels}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_34_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{Conclusión}\label{conclusiuxf3n}

    La latencia para poder realizar las transformadas y los filtros es lo
suficientemente baja para que en tiempo real no se note. No parece
incrementar el jitter significativamente tampoco, lo que hace que DWT
sea una manera de reducir la redundancia, controlando el bit-rate y que
se oiga de manera aceptable.

Se han probado también otras familias de wavelets, como symlets y
biorthogonal. Las dos últimas son excepcionalmente mejores a la hora de
eliminar distorsión con grandes cuantizaciones, ya que siempre se quedan
por debajo de 0'5, no como con la familia de daubechies, que aunque no
supere una distorsión de 1, sigue siendo mayor a 0'7.

Esto sucede porque los symlets son más simétricos que Daubechies, que
ayuda a reducir la distorsión. Por otro lado, los biortogonales tienen
una fase lineal, por lo que guardan los alineamientos en las señales
mejor. Estos wavelets también son duales (no tienen que ser exactamente
idénticas), haciendo que sean más flexibles.

    \subsection{Answer the questions}\label{answer-the-questions}

    \emph{Which has been the gain of the filters used in your experiments?
You can plot the gains (as it is shown in this notebook), but give some
written explanation.}

    Primero se mostrará la ganancia de los filtros usados dependiendo de los
niveles que tengan, luego, se hará una explicación de lo mostrado.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{matplotlib}
\PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{axes} \PY{k}{as} \PY{n+nn}{ax}
\PY{k+kn}{import} \PY{n+nn}{math}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\PY{k+kn}{import} \PY{n+nn}{sounddevice} \PY{k}{as} \PY{n+nn}{sd}
\PY{k+kn}{from} \PY{n+nn}{scipy} \PY{k+kn}{import} \PY{n}{signal}
\PY{k}{def} \PY{n+nf}{average\PYZus{}complex\PYZus{}energy}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}
    \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{real}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{double}\PY{p}{)}\PY{o}{*}\PY{n}{x}\PY{o}{.}\PY{n}{real}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{double}\PY{p}{)} \PY{o}{+}
                  \PY{n}{x}\PY{o}{.}\PY{n}{imag}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{double}\PY{p}{)}\PY{o}{*}\PY{n}{x}\PY{o}{.}\PY{n}{imag}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{double}\PY{p}{)}\PY{p}{)}\PY{o}{/}\PY{n+nb}{len}\PY{p}{(}\PY{n}{x}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{pywt} \PY{c+c1}{\PYZsh{} pip install pywavelets}
\PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k+kn}{import} \PY{n}{Math}

\PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
\PY{n}{processor} \PY{o}{=} \PY{n}{Processing}\PY{p}{(}\PY{p}{)}

\PY{k}{for} \PY{n}{w} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{wavelets}\PY{p}{:}
    \PY{n}{wavelet} \PY{o}{=} \PY{n}{pywt}\PY{o}{.}\PY{n}{Wavelet}\PY{p}{(}\PY{n}{w}\PY{p}{)}
    \PY{k}{for} \PY{n}{ls} \PY{o+ow}{in} \PY{n}{processor}\PY{o}{.}\PY{n}{levels}\PY{p}{:}
        \PY{k}{for} \PY{n}{l} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{ls}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{n}{filters} \PY{o}{=} \PY{n}{wavelet}\PY{o}{.}\PY{n}{wavefun}\PY{p}{(}\PY{n}{level} \PY{o}{=} \PY{p}{(}\PY{n}{l}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
            \PY{n}{w0}\PY{p}{,} \PY{n}{h0} \PY{o}{=} \PY{n}{signal}\PY{o}{.}\PY{n}{freqz}\PY{p}{(}\PY{n}{filters}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{fs}\PY{o}{=}\PY{l+m+mi}{44100}\PY{p}{)}
            \PY{n}{w1}\PY{p}{,} \PY{n}{h1} \PY{o}{=} \PY{n}{signal}\PY{o}{.}\PY{n}{freqz}\PY{p}{(}\PY{n}{filters}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{fs}\PY{o}{=}\PY{l+m+mi}{44100}\PY{p}{)}
            \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{w1}\PY{p}{,} \PY{n+nb}{abs}\PY{p}{(}\PY{n}{h1}\PY{p}{)}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+sa}{r}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdl{}}\PY{l+s+s2}{\PYZbs{}}\PY{l+s+s2}{mathbf}\PY{l+s+si}{\PYZob{}h\PYZcb{}}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{l+s+sa}{rf}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZca{}}\PY{l+s+si}{\PYZob{}}\PY{n}{l}\PY{o}{+}\PY{l+m+mi}{1}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdl{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
            \PY{c+c1}{\PYZsh{}display(Math(\PYZdq{}\PYZbs{}\PYZbs{}text\PYZob{}Average energy of\PYZcb{}\PYZti{}\PYZdq{} + r\PYZdq{}\PYZbs{}mathbf\PYZob{}h\PYZcb{}\PYZdq{} + f\PYZdq{}\PYZca{}\PYZob{}l+1\PYZcb{}\PYZdq{} + f\PYZdq{} = \PYZob{}average\PYZus{}complex\PYZus{}energy(h1)\PYZcb{}\PYZdq{}))}
        \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{w0}\PY{p}{,} \PY{n+nb}{abs}\PY{p}{(}\PY{n}{h0}\PY{p}{)}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+sa}{r}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdl{}}\PY{l+s+s2}{\PYZbs{}}\PY{l+s+s2}{mathbf}\PY{l+s+si}{\PYZob{}l\PYZcb{}}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{l+s+sa}{rf}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZca{}}\PY{l+s+si}{\PYZob{}}\PY{n}{l}\PY{o}{+}\PY{l+m+mi}{1}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdl{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{c+c1}{\PYZsh{}display(Math(\PYZdq{}\PYZbs{}\PYZbs{}text\PYZob{}Average energy of\PYZcb{}\PYZti{}\PYZdq{} + r\PYZdq{}\PYZbs{}mathbf\PYZob{}l\PYZcb{}\PYZdq{} + f\PYZdq{}\PYZca{}\PYZob{}l+1\PYZcb{}\PYZdq{} + f\PYZdq{} = \PYZob{}average\PYZus{}complex\PYZus{}energy(h0)\PYZcb{}\PYZdq{}))}
        \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RD Tradeoff for Wavelet: }\PY{l+s+si}{\PYZob{}}\PY{n}{w}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{best}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Frequency (Hz)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Gain}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_9.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_10.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_11.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_12.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_13.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_14.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_15.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_16.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_17.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_18.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_19.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_20.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_21.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_22.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_23.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_24.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_25.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_26.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_27.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_28.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_29.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_30.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_31.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_32.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_33.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_34.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_35.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_36.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_37.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_38.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_39.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_40.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_41.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_42.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_43.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_44.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_45.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_46.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_47.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_48.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_49.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_50.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_51.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_52.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{notebook_files/notebook_41_53.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    En los experimentos realizados, se probaron diferentes tipos de filtros:
Daubechies, Symlets y Biorthogonales. Las ganancias de los filtros
Daubechies (``db1'' a ``db5'') mostraron una transición rápida en las
frecuencias cercanas a las bandas de corte, lo cual es consistente con
su diseño para un análisis detallado de cambios abruptos en señales. Los
filtros Symlets (``sym4'' y ``sym5'') presentaron características
similares a las de Daubechies, pero con una mejor simetría en el tiempo,
lo cual puede ser ventajoso para aplicaciones que requieren precisión
temporal. Por último, los filtros Biorthogonales (``bior3.3'' y
``bior3.5'') ofrecieron una transición más suave en términos de
ganancia, indicando un enfoque orientado a la conservación de la señal.

    \emph{Which other transform(s) are used in audio encoding systems (such
as MP3) to exploit temporal redundancy? Enumerate the systems and the
transform(s) used.}

    Para MP3 se usan transformadas como MDCT (\textbf{m}odified
\textbf{d}iscrete \textbf{c}osine \textbf{t}ransform) que se usa para
bloques de un dataset consecutivos, siendo que estos bloques se
sobreponen entre sí (las mitades). Esto se usa para transformar las
señales de audio en señales en frecuencia. Además, MDCT se puede adaptar
a la estructura temporal del audio (explota la redundancia temporal).

También se usan bancos de filtros, llamado PFB (\textbf{p}olyphase
\textbf{f}ilter \textbf{b}ank), que reduce las muestras de entrada de la
señal en subbandas, para separar la señal en componentes con contenido
en frecuencia que se solapen. La diferencia entre PFB y MDCT es que la
primera organiza la señal en fracciones más pequeñas y manejables,
mientras que la última trabaja directamente sobre el dominio de la
frecuencia.

Para otros casos (no con MP3), pero si con códecs de voz (voice codecs),
se usan LPC (\textbf{l}inear \textbf{p}redictive \textbf{c}oding), que
sirve para predecir muestras de audio futuras basándose en muestras ya
procesadas. Algunos voice codecs son: VoIP, conexiones móviles (3G, 4G,
5G), servicios de audio de streaming, y otros más.

Para las televisiones, por ejemplo, se usan tranformadas como TNS
(\textbf{t}emporal \textbf{n}oise \textbf{s}haping) que optimizan el
ruido distribuido en el tiempo por la cuantización. Este método controla
la máscara temporal (temporal masking) y la redundancia.

    \subsection{Conclusión (comparativa MST con
DWT)}\label{conclusiuxf3n-comparativa-mst-con-dwt}

    MST ha dado resultados buenos, pero comparado con DWT (que usa también
MST) es comparablemente peor. DWT, en su rango de distorsión no supera
un RMSE de 1, mientras que MST llega hasta 1'2 o más. DWT como se
encarga de dividir las muestras, aplicar filtros y juntar las muestras,
lo que hace que no se cree tanta distorsión a la hora de cuantizar. Por
otro lado MST, si es de 16, aunque su cuantización sea únicamente de 1,
su capacidad de compresión sigue siendo mayor (por la división al
principio de mid y size), mientras que en los códigos de MST 32 y de
DWT, para cuantización 1, ambos rondan los 1200 Kbits.

Por lo que, DWT es mejor que MST a la hora de eliminar distorsión cuando
comprime, y MST 16, si se quiere mandar la señal con poca cuantización,
mejora el bit-rate.


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
